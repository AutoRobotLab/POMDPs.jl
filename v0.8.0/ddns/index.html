<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Dynamic Decision Networks · POMDPs.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.png" alt="POMDPs.jl logo"/></a><h1>POMDPs.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="../">POMDPs.jl</a></li><li><a class="toctext" href="../install/">Installation</a></li><li><a class="toctext" href="../get_started/">Getting Started</a></li><li><a class="toctext" href="../concepts/">Concepts and Architecture</a></li></ul></li><li><span class="toctext">Defining (PO)MDP Models</span><ul><li><a class="toctext" href="../def_pomdp/">Defining POMDPs and MDPs</a></li><li class="current"><a class="toctext" href>Dynamic Decision Networks</a><ul class="internal"><li><a class="toctext" href="#DDN-structure-representation-1">DDN structure representation</a></li><li><a class="toctext" href="#Defining-behavior-for-nodes-1">Defining behavior for nodes</a></li><li><a class="toctext" href="#Customizing-the-DDN-1">Customizing the DDN</a></li></ul></li><li><a class="toctext" href="../basic_properties/">Defining Basic (PO)MDP Properties</a></li><li><a class="toctext" href="../explicit/">Explicit (PO)MDP Interface</a></li><li><a class="toctext" href="../generative/">Generative (PO)MDP Interface</a></li><li><a class="toctext" href="../interfaces/">Spaces and Distributions</a></li><li><a class="toctext" href="../requirements/">Interface Requirements for Problems</a></li></ul></li><li><span class="toctext">Writing Solvers and Updaters</span><ul><li><a class="toctext" href="../def_solver/">Defining a Solver</a></li><li><a class="toctext" href="../specifying_requirements/">Specifying Requirements</a></li><li><a class="toctext" href="../def_updater/">Defining a Belief Updater</a></li></ul></li><li><span class="toctext">Analyzing Results</span><ul><li><a class="toctext" href="../simulation/">Simulation Standard</a></li><li><a class="toctext" href="../run_simulation/">Running Simulations</a></li><li><a class="toctext" href="../policy_interaction/">Interacting with Policies</a></li></ul></li><li><a class="toctext" href="../faq/">Frequently Asked Questions (FAQ)</a></li><li><a class="toctext" href="../api/">API Documentation</a></li></ul></nav><article id="docs"><header><nav><ul><li>Defining (PO)MDP Models</li><li><a href>Dynamic Decision Networks</a></li></ul><a class="edit-page" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/master/docs/src/ddns.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Dynamic Decision Networks</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Dynamic-Decision-Networks-1" href="#Dynamic-Decision-Networks-1">Dynamic Decision Networks</a></h1><p>Part of the conceptual definition of a POMDP or MDP is a dynamic decision network (DDN) that defines which random variables are dependent on each other. Usually, problem writers will not have to interact directly with the DDN, but it is a helpful concept for understanding, and it can be customized for special problem types.</p><p>The standard POMDPs.jl DDN models are shown below:</p><table><tr><th style="text-align: center">Standard MDP DDN</th><th style="text-align: center">Standard POMDP DDN</th></tr><tr><td style="text-align: center"><img src="../figures/mdp_ddn.svg" alt="MDP DDN"/></td><td style="text-align: center"><img src="../figures/pomdp_ddn.svg" alt="POMDP DDN"/></td></tr></table><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>In order to provide additional flexibility, these DDNs have <code>:s</code>→<code>:o</code>, <code>:sp</code>→<code>:r</code> and <code>:o</code>→<code>:r</code> edges that are typically absent from the DDNs traditionally used in the (PO)MDP literature. Traditional (PO)MDP algorithms are compatible with these DDNs because only <span>$R(s,a)$</span>, the expectation of <span>$R(s, a, s&#39;, o)$</span> over all <span>$s&#39;$</span> and <span>$o$</span> is needed to make optimal decisions.</p></div></div><h2><a class="nav-anchor" id="DDN-structure-representation-1" href="#DDN-structure-representation-1">DDN structure representation</a></h2><p>In POMDPs.jl, each DDN node corresponds to a <a href="https://docs.julialang.org/en/v1/base/base/#Core.Symbol"><code>Symbol</code></a>. Often a <code>p</code> character (mnemonic: &quot;prime&quot;) is appended to denote a new value for the next timestep, e.g. <code>:sp</code> represents <span>$s&#39;$</span>, the state at the next step.</p><p>A <a href="../api/#POMDPs.DDNStructure"><code>DDNStructure</code></a> object contains the names of all the nodes, the edges between the nodes, and an object for each node that defines its implementation.</p><p>Currently, there are four types of nodes:</p><ul><li><a href="../api/#POMDPs.DistributionDDNNode"><code>DistributionDDNNode</code></a> to define nodes with stochastic output.</li><li><a href="../api/#POMDPs.FunctionDDNNode"><code>FunctionDDNNode</code></a> to define a node that is a deterministic function of other nodes.</li><li><a href="../api/#POMDPs.ConstantDDNNode"><code>ConstantDDNNode</code></a> for a constant.</li><li><a href="../api/#POMDPs.GenericDDNNode"><code>GenericDDNNode</code></a> for a node that has no implementation other than <a href="../api/#POMDPs.gen"><code>gen</code></a> (see <a href="#Defining-behavior-for-nodes-1">Defining behavior for nodes</a> below).</li></ul><p>This set is not expected to handle all possible behavior, so new types are likely to be added in the future (and they should be requested when concrete needs are encountered).</p><h2><a class="nav-anchor" id="Defining-behavior-for-nodes-1" href="#Defining-behavior-for-nodes-1">Defining behavior for nodes</a></h2><p>For any node in the DDN, the function <a href="../api/#POMDPs.gen"><code>gen</code></a><code>(::DDNNode{:nodename}, m, parent_values..., rng)</code> will be called to sample a value (see the docstring for more information). This method can always be implemented to provide a generative definition for a node.</p><p>Some nodes can alternatively have an explicit implementation. For example, a <code>DistributionDDNNode</code> contains a function that is called with the (PO)MDP models and values sampled from the parent nodes to return a distribution. The state transition node, <code>:sp</code>, is a particular case of this. If <a href="../api/#POMDPs.gen"><code>gen</code></a><code>(::GenVar{:sp}, m, s, a, rng)</code> is not defined by the problem writer, <code>rand(rng, transition(m, s, a))</code> will be called to generate values for <code>:sp</code>.</p><h3><a class="nav-anchor" id="Mixing-generative-and-explicit-node-definitions-for-a-POMDP-1" href="#Mixing-generative-and-explicit-node-definitions-for-a-POMDP-1">Mixing generative and explicit node definitions for a POMDP</a></h3><p>POMDP models will often contain a mixture of Generative and explicit definitions, and this is an encouraged paradigm. For example</p><pre><code class="language-julia">using Distributions
struct MyPOMDP &lt;: POMDP{Float64, Float64, Float64} end
POMDPs.gen(::GenVar{:sp}, m::MyPOMDP, s, a, rng) = s+a
POMDPs.observation(::GenVar{:o}, m, s, a, sp, rng) = Normal(sp)</code></pre><p>would be a suitable distribution for a POMDP that will be solved with particle filtering methods where an explicit observation definition is needed, but a generative state transition definition is sufficient.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>It is usually best to <em>avoid</em> providing both a generative and explicit definition of <em>the same node</em> because it is easy to introduce inconsistency.</p></div></div><h2><a class="nav-anchor" id="Customizing-the-DDN-1" href="#Customizing-the-DDN-1">Customizing the DDN</a></h2><p>The DDN structure for a particular (PO)MDP problem <code>type</code> is defined with the <a href="../api/#POMDPs.DDNStructure"><code>DDNStructure</code></a> trait, which should return a <a href="../api/#POMDPs.DDNStructure"><code>DDNStructure</code></a> object (or something else that implements the appropriate methods). See the docstring for an example.</p><p>If a specialized DDN structure is to be compatible with standard POMDP solvers, it should have the standard <code>:sp</code>, <code>:r</code>, and <code>:o</code> nodes.</p><p>Currently (as of September, 2019), no solver has special behavior based on the DDN structure, but it is expected that packages will define new DDN structures for specialized cases like constrained POMDPs, mixed observability MDPs, or factored POMDPs. If you are considering creating a solver that relies on a specific DDN structure, please contact the developers so we can coordinate.</p><footer><hr/><a class="previous" href="../def_pomdp/"><span class="direction">Previous</span><span class="title">Defining POMDPs and MDPs</span></a><a class="next" href="../basic_properties/"><span class="direction">Next</span><span class="title">Defining Basic (PO)MDP Properties</span></a></footer></article></body></html>
